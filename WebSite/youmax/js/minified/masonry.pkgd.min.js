(function (d) {
    function e() { } function k(d) {
        function c(a) { a.prototype.option || (a.prototype.option = function (a) { d.isPlainObject(a) && (this.options = d.extend(!0, this.options, a)) }) } function a(a, c) {
            d.fn[a] = function (n) {
                if ("string" === typeof n) { for (var e = b.call(arguments, 1), g = 0, r = this.length; g < r; g++) { var l = d.data(this[g], a); if (l) if (d.isFunction(l[n]) && "_" !== n.charAt(0)) { if (l = l[n].apply(l, e), void 0 !== l) return l } else h("no such method '" + n + "' for " + a + " instance") } return this } return this.each(function () {
                    var g = d.data(this,
                    a); g ? (g.option(n), g._init()) : (g = new c(this, n), d.data(this, a, g))
                })
            }
        } if (d) { var h = "undefined" === typeof console ? e : function (a) { console.error(a) }; d.bridget = function (h, b) { c(b); a(h, b) }; return d.bridget }
    } var b = Array.prototype.slice; "function" === typeof define && define.amd ? define("jquery-bridget/jquery.bridget", ["jquery"], k) : "object" === typeof exports ? k(require("jquery")) : k(d.jQuery)
})(window);
(function (d) {
    function e(b) { var a = d.event; a.target = a.target || a.srcElement || b; return a } var k = document.documentElement, b = function () { }; k.addEventListener ? b = function (b, a, h) { b.addEventListener(a, h, !1) } : k.attachEvent && (b = function (b, a, h) { b[a + h] = h.handleEvent ? function () { var a = e(b); h.handleEvent.call(h, a) } : function () { var a = e(b); h.call(b, a) }; b.attachEvent("on" + a, b[a + h]) }); var f = function () { }; k.removeEventListener ? f = function (b, a, h) { b.removeEventListener(a, h, !1) } : k.detachEvent && (f = function (b, a, h) {
        b.detachEvent("on" +
        a, b[a + h]); try { delete b[a + h] } catch (p) { b[a + h] = void 0 }
    }); k = { bind: b, unbind: f }; "function" === typeof define && define.amd ? define("eventie/eventie", k) : "object" === typeof exports ? module.exports = k : d.eventie = k
})(window);
(function () {
    function d() { } function e(a, h) { for (var b = a.length; b--;) if (a[b].listener === h) return b; return -1 } function k(a) { return function () { return this[a].apply(this, arguments) } } var b = d.prototype, f = this, c = f.EventEmitter; b.getListeners = function (a) { var h = this._getEvents(), b, d; if (a instanceof RegExp) for (d in b = {}, h) h.hasOwnProperty(d) && a.test(d) && (b[d] = h[d]); else b = h[a] || (h[a] = []); return b }; b.flattenListeners = function (a) { var h = [], b; for (b = 0; b < a.length; b += 1) h.push(a[b].listener); return h }; b.getListenersAsObject =
    function (a) { var b = this.getListeners(a), d; b instanceof Array && (d = {}, d[a] = b); return d || b }; b.addListener = function (a, b) { var d = this.getListenersAsObject(a), c = "object" === typeof b, f; for (f in d) d.hasOwnProperty(f) && -1 === e(d[f], b) && d[f].push(c ? b : { listener: b, once: !1 }); return this }; b.on = k("addListener"); b.addOnceListener = function (a, b) { return this.addListener(a, { listener: b, once: !0 }) }; b.once = k("addOnceListener"); b.defineEvent = function (a) { this.getListeners(a); return this }; b.defineEvents = function (a) {
        for (var b = 0; b <
        a.length; b += 1) this.defineEvent(a[b]); return this
    }; b.removeListener = function (a, b) { var d = this.getListenersAsObject(a), c, f; for (f in d) d.hasOwnProperty(f) && (c = e(d[f], b), -1 !== c && d[f].splice(c, 1)); return this }; b.off = k("removeListener"); b.addListeners = function (a, b) { return this.manipulateListeners(!1, a, b) }; b.removeListeners = function (a, b) { return this.manipulateListeners(!0, a, b) }; b.manipulateListeners = function (a, b, d) {
        var c, f, e = a ? this.removeListener : this.addListener; a = a ? this.removeListeners : this.addListeners;
        if ("object" !== typeof b || b instanceof RegExp) for (c = d.length; c--;) e.call(this, b, d[c]); else for (c in b) b.hasOwnProperty(c) && (f = b[c]) && ("function" === typeof f ? e.call(this, c, f) : a.call(this, c, f)); return this
    }; b.removeEvent = function (a) { var b = typeof a, d = this._getEvents(), c; if ("string" === b) delete d[a]; else if (a instanceof RegExp) for (c in d) d.hasOwnProperty(c) && a.test(c) && delete d[c]; else delete this._events; return this }; b.removeAllListeners = k("removeEvent"); b.emitEvent = function (a, b) {
        var d = this.getListenersAsObject(a),
        c, f, e, g; for (e in d) if (d.hasOwnProperty(e)) for (f = d[e].length; f--;) c = d[e][f], !0 === c.once && this.removeListener(a, c.listener), g = c.listener.apply(this, b || []), g === this._getOnceReturnValue() && this.removeListener(a, c.listener); return this
    }; b.trigger = k("emitEvent"); b.emit = function (a) { var b = Array.prototype.slice.call(arguments, 1); return this.emitEvent(a, b) }; b.setOnceReturnValue = function (a) { this._onceReturnValue = a; return this }; b._getOnceReturnValue = function () {
        return this.hasOwnProperty("_onceReturnValue") ? this._onceReturnValue :
        !0
    }; b._getEvents = function () { return this._events || (this._events = {}) }; d.noConflict = function () { f.EventEmitter = c; return d }; "function" === typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function () { return d }) : "object" === typeof module && module.exports ? module.exports = d : f.EventEmitter = d
}).call(this);
(function (d) { function e(d) { if (d) { if ("string" === typeof b[d]) return d; d = d.charAt(0).toUpperCase() + d.slice(1); for (var c, a = 0, h = k.length; a < h; a++) if (c = k[a] + d, "string" === typeof b[c]) return c } } var k = ["Webkit", "Moz", "ms", "Ms", "O"], b = document.documentElement.style; "function" === typeof define && define.amd ? define("get-style-property/get-style-property", [], function () { return e }) : "object" === typeof exports ? module.exports = e : d.getStyleProperty = e })(window);
(function (d, e) {
    function k(a) { var b = parseFloat(a); return -1 === a.indexOf("%") && !isNaN(b) && b } function b() { } function f(b) {
        function f() {
            if (!e) {
                e = !0; var a = d.getComputedStyle; n = function () { var g = a ? function (g) { return a(g, null) } : function (a) { return a.currentStyle }; return function (a) { (a = g(a)) || c("Style returned " + a + ". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"); return a } }(); if (m = b("boxSizing")) {
                    var l = document.createElement("div"); l.style.width = "200px"; l.style.padding =
                    "1px 2px 3px 4px"; l.style.borderStyle = "solid"; l.style.borderWidth = "1px 2px 3px 4px"; l.style[m] = "border-box"; var t = document.body || document.documentElement; t.appendChild(l); var z = n(l); g = 200 === k(z.width); t.removeChild(l)
                }
            }
        } var e = !1, n, m, g; return function (b) {
            f(); "string" === typeof b && (b = document.querySelector(b)); if (b && "object" === typeof b && b.nodeType) {
                var l = n(b); if ("none" === l.display) { for (var c = { width: 0, height: 0, innerWidth: 0, innerHeight: 0, outerWidth: 0, outerHeight: 0 }, l = 0, h = a.length; l < h; l++) c[a[l]] = 0; return c } c =
                {}; c.width = b.offsetWidth; c.height = b.offsetHeight; for (var h = c.isBorderBox = !(!m || !l[m] || "border-box" !== l[m]), w = 0, e = a.length; w < e; w++) { var x = a[w], u = l[x]; var q = b; if (!d.getComputedStyle && -1 !== u.indexOf("%")) { var v = q.style, B = v.left, y = q.runtimeStyle, A = y && y.left; A && (y.left = q.currentStyle.left); v.left = u; u = v.pixelLeft; v.left = B; A && (y.left = A) } q = parseFloat(u); c[x] = isNaN(q) ? 0 : q } b = c.paddingLeft + c.paddingRight; w = c.paddingTop + c.paddingBottom; e = c.marginLeft + c.marginRight; x = c.marginTop + c.marginBottom; q = c.borderLeftWidth +
                c.borderRightWidth; u = c.borderTopWidth + c.borderBottomWidth; h = h && g; v = k(l.width); !1 !== v && (c.width = v + (h ? 0 : b + q)); l = k(l.height); !1 !== l && (c.height = l + (h ? 0 : w + u)); c.innerWidth = c.width - (b + q); c.innerHeight = c.height - (w + u); c.outerWidth = c.width + e; c.outerHeight = c.height + x; return c
            }
        }
    } var c = "undefined" === typeof console ? b : function (a) { console.error(a) }, a = "paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" ");
    "function" === typeof define && define.amd ? define("get-size/get-size", ["get-style-property/get-style-property"], f) : "object" === typeof exports ? module.exports = f(require("desandro-get-style-property")) : d.getSize = f(d.getStyleProperty)
})(window);
(function (d) {
    function e(b) { "function" === typeof b && (e.isReady ? b() : a.push(b)) } function k(a) { a = "readystatechange" === a.type && "complete" !== c.readyState; e.isReady || a || b() } function b() { e.isReady = !0; for (var b = 0, c = a.length; b < c; b++) (0, a[b])() } function f(a) { "complete" === c.readyState ? b() : (a.bind(c, "DOMContentLoaded", k), a.bind(c, "readystatechange", k), a.bind(d, "load", k)); return e } var c = d.document, a = []; e.isReady = !1; "function" === typeof define && define.amd ? define("doc-ready/doc-ready", ["eventie/eventie"], f) : "object" ===
    typeof exports ? module.exports = f(require("eventie")) : d.docReady = f(d.eventie)
})(window);
(function (d) {
    function e(a, b) { return a[f](b) } function k(a, b) { a.parentNode || document.createDocumentFragment().appendChild(a); for (var c = a.parentNode.querySelectorAll(b), d = 0, f = c.length; d < f; d++) if (c[d] === a) return !0; return !1 } function b(a, b) { a.parentNode || document.createDocumentFragment().appendChild(a); return e(a, b) } var f = function () { if (d.matches) return "matches"; if (d.matchesSelector) return "matchesSelector"; for (var a = ["webkit", "moz", "ms", "o"], b = 0, c = a.length; b < c; b++) { var f = a[b] + "MatchesSelector"; if (d[f]) return f } }(),
    c; if (f) { var a = document.createElement("div"); c = e(a, "div") ? e : b } else c = k; "function" === typeof define && define.amd ? define("matches-selector/matches-selector", [], function () { return c }) : "object" === typeof exports ? module.exports = c : window.matchesSelector = c
})(Element.prototype);
(function (d, e) { "function" == typeof define && define.amd ? define("fizzy-ui-utils/utils", ["doc-ready/doc-ready", "matches-selector/matches-selector"], function (k, b) { return e(d, k, b) }) : "object" == typeof exports ? module.exports = e(d, require("doc-ready"), require("desandro-matches-selector")) : d.fizzyUIUtils = e(d, d.docReady, d.matchesSelector) })(window, function (d, e, k) {
    var b = { extend: function (a, b) { for (var c in b) a[c] = b[c]; return a }, modulo: function (a, b) { return (a % b + b) % b } }, f = Object.prototype.toString; b.isArray = function (a) {
        return "[object Array]" ==
        f.call(a)
    }; b.makeArray = function (a) { var c = []; if (b.isArray(a)) c = a; else if (a && "number" == typeof a.length) for (var d = 0, f = a.length; d < f; d++) c.push(a[d]); else c.push(a); return c }; b.indexOf = Array.prototype.indexOf ? function (a, b) { return a.indexOf(b) } : function (a, b) { for (var c = 0, d = a.length; c < d; c++) if (a[c] === b) return c; return -1 }; b.removeFrom = function (a, c) { var d = b.indexOf(a, c); -1 != d && a.splice(d, 1) }; b.isElement = "function" == typeof HTMLElement || "object" == typeof HTMLElement ? function (a) { return a instanceof HTMLElement } :
    function (a) { return a && "object" == typeof a && 1 == a.nodeType && "string" == typeof a.nodeName }; b.setText = function () { var a; return function (b, c) { a = a || (void 0 !== document.documentElement.textContent ? "textContent" : "innerText"); b[a] = c } }(); b.getParent = function (a, b) { for (; a != document.body;) if (a = a.parentNode, k(a, b)) return a }; b.getQueryElement = function (a) { return "string" == typeof a ? document.querySelector(a) : a }; b.handleEvent = function (a) { var b = "on" + a.type; if (this[b]) this[b](a) }; b.filterFindElements = function (a, c) {
        a = b.makeArray(a);
        for (var d = [], f = 0, e = a.length; f < e; f++) { var m = a[f]; if (b.isElement(m)) if (c) { k(m, c) && d.push(m); for (var m = m.querySelectorAll(c), g = 0, r = m.length; g < r; g++) d.push(m[g]) } else d.push(m) } return d
    }; b.debounceMethod = function (a, b, c) { var d = a.prototype[b], f = b + "Timeout"; a.prototype[b] = function () { var a = this[f]; a && clearTimeout(a); var b = arguments, r = this; this[f] = setTimeout(function () { d.apply(r, b); delete r[f] }, c || 100) } }; b.toDashed = function (a) { return a.replace(/(.)([A-Z])/g, function (a, b, c) { return b + "-" + c }).toLowerCase() };
    var c = d.console; b.htmlInit = function (a, f) { e(function () { for (var e = b.toDashed(f), k = document.querySelectorAll(".js-" + e), e = "data-" + e + "-options", n = 0, m = k.length; n < m; n++) { var g = k[n], r = g.getAttribute(e), l; try { l = r && JSON.parse(r) } catch (z) { c && c.error("Error parsing " + e + " on " + g.nodeName.toLowerCase() + (g.id ? "#" + g.id : "") + ": " + z); continue } var r = new a(g, l), t = d.jQuery; t && t.data(g, f, r) } }) }; return b
});
(function (d, e) { "function" === typeof define && define.amd ? define("outlayer/item", ["eventEmitter/EventEmitter", "get-size/get-size", "get-style-property/get-style-property", "fizzy-ui-utils/utils"], function (k, b, f, c) { return e(d, k, b, f, c) }) : "object" === typeof exports ? module.exports = e(d, require("wolfy87-eventemitter"), require("get-size"), require("desandro-get-style-property"), require("fizzy-ui-utils")) : (d.Outlayer = {}, d.Outlayer.Item = e(d, d.EventEmitter, d.getSize, d.getStyleProperty, d.fizzyUIUtils)) })(window, function (d,
e, k, b, f) {
    function c(a, b) { a && (this.element = a, this.layout = b, this.position = { x: 0, y: 0 }, this._create()) } var a = d.getComputedStyle, h = a ? function (b) { return a(b, null) } : function (a) { return a.currentStyle }, p = b("transition"); d = b("transform"); d = p && d; var q = !!b("perspective"), n = { WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "otransitionend", transition: "transitionend" }[p], m = ["transform", "transition", "transitionDuration", "transitionProperty"], g = function () {
        for (var a = {}, g = 0, c = m.length; g <
        c; g++) { var d = m[g], l = b(d); l && l !== d && (a[d] = l) } return a
    }(); f.extend(c.prototype, e.prototype); c.prototype._create = function () { this._transn = { ingProperties: {}, clean: {}, onEnd: {} }; this.css({ position: "absolute" }) }; c.prototype.handleEvent = function (a) { var b = "on" + a.type; if (this[b]) this[b](a) }; c.prototype.getSize = function () { this.size = k(this.element) }; c.prototype.css = function (a) { var b = this.element.style, c; for (c in a) b[g[c] || c] = a[c] }; c.prototype.getPosition = function () {
        var a = h(this.element), b = this.layout.options,
        g = b.isOriginLeft, b = b.isOriginTop, c = a[g ? "left" : "right"], a = a[b ? "top" : "bottom"], d = parseInt(c, 10), l = parseInt(a, 10), f = this.layout.size, d = -1 != c.indexOf("%") ? d / 100 * f.width : d, l = -1 != a.indexOf("%") ? l / 100 * f.height : l, d = isNaN(d) ? 0 : d, l = isNaN(l) ? 0 : l, d = d - (g ? f.paddingLeft : f.paddingRight), l = l - (b ? f.paddingTop : f.paddingBottom); this.position.x = d; this.position.y = l
    }; c.prototype.layoutPosition = function () {
        var a = this.layout.size, b = this.layout.options, g = {}, c = b.isOriginLeft ? "right" : "left"; g[b.isOriginLeft ? "left" : "right"] = this.getXValue(this.position.x +
        a[b.isOriginLeft ? "paddingLeft" : "paddingRight"]); g[c] = ""; c = b.isOriginTop ? "bottom" : "top"; g[b.isOriginTop ? "top" : "bottom"] = this.getYValue(this.position.y + a[b.isOriginTop ? "paddingTop" : "paddingBottom"]); g[c] = ""; this.css(g); this.emitEvent("layout", [this])
    }; c.prototype.getXValue = function (a) { var b = this.layout.options; return b.percentPosition && !b.isHorizontal ? a / this.layout.size.width * 100 + "%" : a + "px" }; c.prototype.getYValue = function (a) {
        var b = this.layout.options; return b.percentPosition && b.isHorizontal ? a / this.layout.size.height *
        100 + "%" : a + "px"
    }; c.prototype._transitionTo = function (a, b) { this.getPosition(); var g = this.position.x, c = this.position.y, d = parseInt(a, 10), l = parseInt(b, 10), d = d === this.position.x && l === this.position.y; this.setPosition(a, b); d && !this.isTransitioning ? this.layoutPosition() : (d = {}, d.transform = this.getTranslate(a - g, b - c), this.transition({ to: d, onTransitionEnd: { transform: this.layoutPosition }, isCleaning: !0 })) }; c.prototype.getTranslate = function (a, b) {
        var g = this.layout.options; a = g.isOriginLeft ? a : -a; b = g.isOriginTop ? b : -b;
        a = this.getXValue(a); b = this.getYValue(b); return q ? "translate3d(" + a + ", " + b + ", 0)" : "translate(" + a + ", " + b + ")"
    }; c.prototype.goTo = function (a, b) { this.setPosition(a, b); this.layoutPosition() }; c.prototype.moveTo = d ? c.prototype._transitionTo : c.prototype.goTo; c.prototype.setPosition = function (a, b) { this.position.x = parseInt(a, 10); this.position.y = parseInt(b, 10) }; c.prototype._nonTransition = function (a) { this.css(a.to); a.isCleaning && this._removeStyles(a.to); for (var b in a.onTransitionEnd) a.onTransitionEnd[b].call(this) };
    c.prototype._transition = function (a) { if (parseFloat(this.layout.options.transitionDuration)) { var b = this._transn, g; for (g in a.onTransitionEnd) b.onEnd[g] = a.onTransitionEnd[g]; for (g in a.to) b.ingProperties[g] = !0, a.isCleaning && (b.clean[g] = !0); a.from && this.css(a.from); this.enableTransition(a.to); this.css(a.to); this.isTransitioning = !0 } else this._nonTransition(a) }; var r = "opacity," + function (a) { return a.replace(/([A-Z])/g, function (a) { return "-" + a.toLowerCase() }) }(g.transform || "transform"); c.prototype.enableTransition =
    function () { this.isTransitioning || (this.css({ transitionProperty: r, transitionDuration: this.layout.options.transitionDuration }), this.element.addEventListener(n, this, !1)) }; c.prototype.transition = c.prototype[p ? "_transition" : "_nonTransition"]; c.prototype.onwebkitTransitionEnd = function (a) { this.ontransitionend(a) }; c.prototype.onotransitionend = function (a) { this.ontransitionend(a) }; var l = { "-webkit-transform": "transform", "-moz-transform": "transform", "-o-transform": "transform" }; c.prototype.ontransitionend = function (a) {
        if (a.target ===
        this.element) { var b = this._transn, g = l[a.propertyName] || a.propertyName; delete b.ingProperties[g]; var c; a: { c = b.ingProperties; for (var d in c) { c = !1; break a } c = !0 } c && this.disableTransition(); g in b.clean && (this.element.style[a.propertyName] = "", delete b.clean[g]); g in b.onEnd && (b.onEnd[g].call(this), delete b.onEnd[g]); this.emitEvent("transitionEnd", [this]) }
    }; c.prototype.disableTransition = function () { this.removeTransitionStyles(); this.element.removeEventListener(n, this, !1); this.isTransitioning = !1 }; c.prototype._removeStyles =
    function (a) { var b = {}, g; for (g in a) b[g] = ""; this.css(b) }; var t = { transitionProperty: "", transitionDuration: "" }; c.prototype.removeTransitionStyles = function () { this.css(t) }; c.prototype.removeElem = function () { this.element.parentNode.removeChild(this.element); this.css({ display: "" }); this.emitEvent("remove", [this]) }; c.prototype.remove = function () { if (p && parseFloat(this.layout.options.transitionDuration)) { var a = this; this.once("transitionEnd", function () { a.removeElem() }); this.hide() } else this.removeElem() }; c.prototype.reveal =
    function () { delete this.isHidden; this.css({ display: "" }); var a = this.layout.options, b = {}, g = this.getHideRevealTransitionEndProperty("visibleStyle"); b[g] = this.onRevealTransitionEnd; this.transition({ from: a.hiddenStyle, to: a.visibleStyle, isCleaning: !0, onTransitionEnd: b }) }; c.prototype.onRevealTransitionEnd = function () { this.isHidden || this.emitEvent("reveal") }; c.prototype.getHideRevealTransitionEndProperty = function (a) { a = this.layout.options[a]; if (a.opacity) return "opacity"; for (var b in a) return b }; c.prototype.hide =
    function () { this.isHidden = !0; this.css({ display: "" }); var a = this.layout.options, b = {}, g = this.getHideRevealTransitionEndProperty("hiddenStyle"); b[g] = this.onHideTransitionEnd; this.transition({ from: a.visibleStyle, to: a.hiddenStyle, isCleaning: !0, onTransitionEnd: b }) }; c.prototype.onHideTransitionEnd = function () { this.isHidden && (this.css({ display: "none" }), this.emitEvent("hide")) }; c.prototype.destroy = function () { this.css({ position: "", left: "", right: "", top: "", bottom: "", transition: "", transform: "" }) }; return c
});
(function (d, e) { "function" == typeof define && define.amd ? define("outlayer/outlayer", ["eventie/eventie", "eventEmitter/EventEmitter", "get-size/get-size", "fizzy-ui-utils/utils", "./item"], function (k, b, f, c, a) { return e(d, k, b, f, c, a) }) : "object" == typeof exports ? module.exports = e(d, require("eventie"), require("wolfy87-eventemitter"), require("get-size"), require("fizzy-ui-utils"), require("./item")) : d.Outlayer = e(d, d.eventie, d.EventEmitter, d.getSize, d.fizzyUIUtils, d.Outlayer.Item) })(window, function (d, e, k, b, f, c) {
    function a(a,
    b) { var c = f.getQueryElement(a); c ? (this.element = c, p && (this.$element = p(this.element)), this.options = f.extend({}, this.constructor.defaults), this.option(b), c = ++n, this.element.outlayerGUID = c, m[c] = this, this._create(), this.options.isInitLayout && this.layout()) : h && h.error("Bad element for " + this.constructor.namespace + ": " + (c || a)) } var h = d.console, p = d.jQuery, q = function () { }, n = 0, m = {}; a.namespace = "outlayer"; a.Item = c; a.defaults = {
        containerStyle: { position: "relative" }, isInitLayout: !0, isOriginLeft: !0, isOriginTop: !0, isResizeBound: !0,
        isResizingContainer: !0, transitionDuration: "0.4s", hiddenStyle: { opacity: 0, transform: "scale(0.001)" }, visibleStyle: { opacity: 1, transform: "scale(1)" }
    }; f.extend(a.prototype, k.prototype); a.prototype.option = function (a) { f.extend(this.options, a) }; a.prototype._create = function () { this.reloadItems(); this.stamps = []; this.stamp(this.options.stamp); f.extend(this.element.style, this.options.containerStyle); this.options.isResizeBound && this.bindResize() }; a.prototype.reloadItems = function () { this.items = this._itemize(this.element.children) };
    a.prototype._itemize = function (a) { a = this._filterFindItemElements(a); for (var b = this.constructor.Item, c = [], d = 0, f = a.length; d < f; d++) { var e = new b(a[d], this); c.push(e) } return c }; a.prototype._filterFindItemElements = function (a) { return f.filterFindElements(a, this.options.itemSelector) }; a.prototype.getItemElements = function () { for (var a = [], b = 0, c = this.items.length; b < c; b++) a.push(this.items[b].element); return a }; a.prototype.layout = function () {
        this._resetLayout(); this._manageStamps(); this.layoutItems(this.items, void 0 !==
        this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited); this._isLayoutInited = !0
    }; a.prototype._init = a.prototype.layout; a.prototype._resetLayout = function () { this.getSize() }; a.prototype.getSize = function () { this.size = b(this.element) }; a.prototype._getMeasurement = function (a, c) { var d = this.options[a], e; d ? ("string" === typeof d ? e = this.element.querySelector(d) : f.isElement(d) && (e = d), this[a] = e ? b(e)[c] : d) : this[a] = 0 }; a.prototype.layoutItems = function (a, b) {
        a = this._getItemsForLayout(a); this._layoutItems(a,
        b); this._postLayout()
    }; a.prototype._getItemsForLayout = function (a) { for (var b = [], c = 0, d = a.length; c < d; c++) { var f = a[c]; f.isIgnored || b.push(f) } return b }; a.prototype._layoutItems = function (a, b) { this._emitCompleteOnItems("layout", a); if (a && a.length) { for (var c = [], d = 0, f = a.length; d < f; d++) { var e = a[d], h = this._getItemLayoutPosition(e); h.item = e; h.isInstant = b || e.isLayoutInstant; c.push(h) } this._processLayoutQueue(c) } }; a.prototype._getItemLayoutPosition = function () { return { x: 0, y: 0 } }; a.prototype._processLayoutQueue = function (a) {
        for (var b =
        0, c = a.length; b < c; b++) { var d = a[b]; this._positionItem(d.item, d.x, d.y, d.isInstant) }
    }; a.prototype._positionItem = function (a, b, c, d) { d ? a.goTo(b, c) : a.moveTo(b, c) }; a.prototype._postLayout = function () { this.resizeContainer() }; a.prototype.resizeContainer = function () { if (this.options.isResizingContainer) { var a = this._getContainerSize(); a && (this._setContainerMeasure(a.width, !0), this._setContainerMeasure(a.height, !1)) } }; a.prototype._getContainerSize = q; a.prototype._setContainerMeasure = function (a, b) {
        if (void 0 !== a) {
            var c =
            this.size; c.isBorderBox && (a += b ? c.paddingLeft + c.paddingRight + c.borderLeftWidth + c.borderRightWidth : c.paddingBottom + c.paddingTop + c.borderTopWidth + c.borderBottomWidth); a = Math.max(a, 0); this.element.style[b ? "width" : "height"] = a + "px"
        }
    }; a.prototype._emitCompleteOnItems = function (a, b) { function c() { f.dispatchEvent(a + "Complete", null, [b]) } function d() { h++; h === e && c() } var f = this, e = b.length; if (b && e) for (var h = 0, k = 0, m = b.length; k < m; k++) b[k].once(a, d); else c() }; a.prototype.dispatchEvent = function (a, b, c) {
        var d = b ? [b].concat(c) :
        c; this.emitEvent(a, d); p && (this.$element = this.$element || p(this.element), b ? (b = p.Event(b), b.type = a, this.$element.trigger(b, c)) : this.$element.trigger(a, c))
    }; a.prototype.ignore = function (a) { if (a = this.getItem(a)) a.isIgnored = !0 }; a.prototype.unignore = function (a) { (a = this.getItem(a)) && delete a.isIgnored }; a.prototype.stamp = function (a) { if (a = this._find(a)) { this.stamps = this.stamps.concat(a); for (var b = 0, c = a.length; b < c; b++) this.ignore(a[b]) } }; a.prototype.unstamp = function (a) {
        if (a = this._find(a)) for (var b = 0, c = a.length; b <
        c; b++) { var d = a[b]; f.removeFrom(this.stamps, d); this.unignore(d) }
    }; a.prototype._find = function (a) { if (a) return "string" === typeof a && (a = this.element.querySelectorAll(a)), a = f.makeArray(a) }; a.prototype._manageStamps = function () { if (this.stamps && this.stamps.length) { this._getBoundingRect(); for (var a = 0, b = this.stamps.length; a < b; a++) this._manageStamp(this.stamps[a]) } }; a.prototype._getBoundingRect = function () {
        var a = this.element.getBoundingClientRect(), b = this.size; this._boundingRect = {
            left: a.left + b.paddingLeft + b.borderLeftWidth,
            top: a.top + b.paddingTop + b.borderTopWidth, right: a.right - (b.paddingRight + b.borderRightWidth), bottom: a.bottom - (b.paddingBottom + b.borderBottomWidth)
        }
    }; a.prototype._manageStamp = q; a.prototype._getElementOffset = function (a) { var c = a.getBoundingClientRect(), d = this._boundingRect; a = b(a); return { left: c.left - d.left - a.marginLeft, top: c.top - d.top - a.marginTop, right: d.right - c.right - a.marginRight, bottom: d.bottom - c.bottom - a.marginBottom } }; a.prototype.handleEvent = function (a) { var b = "on" + a.type; if (this[b]) this[b](a) }; a.prototype.bindResize =
    function () { this.isResizeBound || (e.bind(d, "resize", this), this.isResizeBound = !0) }; a.prototype.unbindResize = function () { this.isResizeBound && e.unbind(d, "resize", this); this.isResizeBound = !1 }; a.prototype.onresize = function () { this.resizeTimeout && clearTimeout(this.resizeTimeout); var a = this; this.resizeTimeout = setTimeout(function () { a.resize(); delete a.resizeTimeout }, 100) }; a.prototype.resize = function () { this.isResizeBound && this.needsResizeLayout() && this.layout() }; a.prototype.needsResizeLayout = function () {
        var a =
        b(this.element); return this.size && a && a.innerWidth !== this.size.innerWidth
    }; a.prototype.addItems = function (a) { a = this._itemize(a); a.length && (this.items = this.items.concat(a)); return a }; a.prototype.appended = function (a) { a = this.addItems(a); a.length && (this.layoutItems(a, !0), this.reveal(a)) }; a.prototype.prepended = function (a) { a = this._itemize(a); if (a.length) { var b = this.items.slice(0); this.items = a.concat(b); this._resetLayout(); this._manageStamps(); this.layoutItems(a, !0); this.reveal(a); this.layoutItems(b) } }; a.prototype.reveal =
    function (a) { this._emitCompleteOnItems("reveal", a); for (var b = a && a.length, c = 0; b && c < b; c++) a[c].reveal() }; a.prototype.hide = function (a) { this._emitCompleteOnItems("hide", a); for (var b = a && a.length, c = 0; b && c < b; c++) a[c].hide() }; a.prototype.revealItemElements = function (a) { a = this.getItems(a); this.reveal(a) }; a.prototype.hideItemElements = function (a) { a = this.getItems(a); this.hide(a) }; a.prototype.getItem = function (a) { for (var b = 0, c = this.items.length; b < c; b++) { var d = this.items[b]; if (d.element === a) return d } }; a.prototype.getItems =
    function (a) { a = f.makeArray(a); for (var b = [], c = 0, d = a.length; c < d; c++) { var e = this.getItem(a[c]); e && b.push(e) } return b }; a.prototype.remove = function (a) { a = this.getItems(a); this._emitCompleteOnItems("remove", a); if (a && a.length) for (var b = 0, c = a.length; b < c; b++) { var d = a[b]; d.remove(); f.removeFrom(this.items, d) } }; a.prototype.destroy = function () {
        var a = this.element.style; a.height = ""; a.position = ""; a.width = ""; for (var a = 0, b = this.items.length; a < b; a++) this.items[a].destroy(); this.unbindResize(); delete m[this.element.outlayerGUID];
        delete this.element.outlayerGUID; p && p.removeData(this.element, this.constructor.namespace)
    }; a.data = function (a) { return (a = (a = f.getQueryElement(a)) && a.outlayerGUID) && m[a] }; a.create = function (b, d) {
        function e() { a.apply(this, arguments) } Object.create ? e.prototype = Object.create(a.prototype) : f.extend(e.prototype, a.prototype); e.prototype.constructor = e; e.defaults = f.extend({}, a.defaults); f.extend(e.defaults, d); e.prototype.settings = {}; e.namespace = b; e.data = a.data; e.Item = function () { c.apply(this, arguments) }; e.Item.prototype =
        new c; f.htmlInit(e, b); p && p.bridget && p.bridget(b, e); return e
    }; a.Item = c; return a
});
(function (d, e) { "function" === typeof define && define.amd ? define(["outlayer/outlayer", "get-size/get-size", "fizzy-ui-utils/utils"], e) : "object" === typeof exports ? module.exports = e(require("outlayer"), require("get-size"), require("fizzy-ui-utils")) : d.Masonry = e(d.Outlayer, d.getSize, d.fizzyUIUtils) })(window, function (d, e, k) {
    d = d.create("masonry"); d.prototype._resetLayout = function () {
        this.getSize(); this._getMeasurement("columnWidth", "outerWidth"); this._getMeasurement("gutter", "outerWidth"); this.measureColumns();
        var b = this.cols; for (this.colYs = []; b--;) this.colYs.push(0); this.maxY = 0
    }; d.prototype.measureColumns = function () { this.getContainerWidth(); if (!this.columnWidth) { var b = this.items[0]; this.columnWidth = (b = b && b.element) && e(b).outerWidth || this.containerWidth } var b = this.columnWidth += this.gutter, d = this.containerWidth + this.gutter, c = b - d % b, b = Math[c && 1 > c ? "round" : "floor"](d / b); this.cols = Math.max(b, 1) }; d.prototype.getContainerWidth = function () {
        var b = e(this.options.isFitWidth ? this.element.parentNode : this.element); this.containerWidth =
        b && b.innerWidth
    }; d.prototype._getItemLayoutPosition = function (b) { b.getSize(); var d = b.size.outerWidth % this.columnWidth, d = Math[d && 1 > d ? "round" : "ceil"](b.size.outerWidth / this.columnWidth), d = Math.min(d, this.cols), c = this._getColGroup(d), a = Math.min.apply(Math, c), d = k.indexOf(c, a), e = { x: this.columnWidth * d, y: a }; b = a + b.size.outerHeight; c = this.cols + 1 - c.length; for (a = 0; a < c; a++) this.colYs[d + a] = b; return e }; d.prototype._getColGroup = function (b) {
        if (2 > b) return this.colYs; for (var d = [], c = this.cols + 1 - b, a = 0; a < c; a++) {
            var e =
            this.colYs.slice(a, a + b); d[a] = Math.max.apply(Math, e)
        } return d
    }; d.prototype._manageStamp = function (b) { var d = e(b), c = this._getElementOffset(b); b = this.options.isOriginLeft ? c.left : c.right; var a = b + d.outerWidth, h = Math.floor(b / this.columnWidth), h = Math.max(0, h); b = Math.floor(a / this.columnWidth); b -= a % this.columnWidth ? 0 : 1; b = Math.min(this.cols - 1, b); d = (this.options.isOriginTop ? c.top : c.bottom) + d.outerHeight; for (c = h; c <= b; c++) this.colYs[c] = Math.max(d, this.colYs[c]) }; d.prototype._getContainerSize = function () {
        this.maxY =
        Math.max.apply(Math, this.colYs); var b = { height: this.maxY }; this.options.isFitWidth && (b.width = this._getContainerFitWidth()); return b
    }; d.prototype._getContainerFitWidth = function () { for (var b = 0, d = this.cols; --d && 0 === this.colYs[d];) b++; return (this.cols - b) * this.columnWidth - this.gutter }; d.prototype.needsResizeLayout = function () { var b = this.containerWidth; this.getContainerWidth(); return b !== this.containerWidth }; return d
});